## **LLM Useful Functions Collection**

Recommended posts: 【Python】 [Python Useful Functions Collection](https://jb243.github.io/pages/1892), 【Algorithms】 Lecture 21. [NLP and LLM](https://jb243.github.io/pages/325)

---

**1.** [NLP useful functions](#1-nlp-useful-functions)

**2.** [LLM applications](#2-llm-applications)

**3.** [LLM agents](#3-llm-agents)

---

<br>

## **1. NLP useful functions**

⑴ A function that automatically translates a given sentence into English

<br>

```python
! pip install --upgrade googletrans httpx httpcore deep_translator

def to_english (sentence):
    from deep_translator import GoogleTranslator
    translated = GoogleTranslator(source='auto', target='en').translate(sentence)
    return translated

print( to_english("나는 소년입니다.") )
# I am a boy.

print( to_english("단핵구") )
# monocytes
```

<br>

⑵ A function that automatically translates a given sentence into Korean

<br>

```python
def to_korean (sentence):
    from deep_translator import GoogleTranslator
    translated = GoogleTranslator(source='auto', target='ko').translate(sentence)
    return translated

print( to_korean("I am a boy.") )
# 저는 남자입니다.
```

<br>

⑶ A function that automatically translates a given sentence into Japanese

<br>

```python
def to_japanese (sentence):
    from deep_translator import GoogleTranslator
    translated = GoogleTranslator(source='auto', target='ja').translate(sentence)
    return translated

print( to_japanese("I am a boy.") )
# 私は男の子です。
```

<br>

⑷ [Translation of a whole Markdown document](https://jb243.github.io/pages/366)

⑸ A function that turns an arbitrary variable-length natural language sentence into a 384-dimensional vector, considering its meaning (cf.
[CELLama](https://github.com/portrai-io/CELLama/tree/main))

<br>

```python
from langchain.embeddings.sentence_transformer import SentenceTransformerEmbeddings
import numpy as np
from scipy.sparse import csr_matrix
import pandas as pd
from sklearn.neighbors import NearestNeighbors
import torch
from torch.utils.data import DataLoader, TensorDataset
from xgboost import XGBClassifier

def sentences_to_embedding(sentences):
    embedding_function = SentenceTransformerEmbeddings(model_name="all-MiniLM-L6-v2")
    db = embedding_function.embed_documents(sentences)
    emb_res = np.asarray(db)
    return emb_res


sentences = []
sentences.append("What is the meaning of: obsolete")
sentences.append("What is the meaning of: old-fashioned")
sentences.append("What is the meaning of: demagogue")
emb_res = sentences_to_embedding(sentences)
```

<br>

<br>

## **2. LLM applications**

⑴ [ollama.ai](https://ollama.com/) (free): Llama2/3/4, Phi-3, Mistral, Gemma, etc

⑵ [GroqChat](https://groq.com/) (free): Mixtral, Llama3, Gemma

⑶ [OpenRouter](https://openrouter.ai/docs/quickstart) (charged): Can utilize ChatGPT API, etc.

⑷ English–Korean translation using Llama2 (free)

<br>

```python
import ollama

def english_to_korean(sentence):
    content = 'Translate "' + sentence + '" to Korean. Output only the translated sentence.'
    response = ollama.chat(model='llama2', messages=[
      {
        'role': 'user',
        'content': content,
      },
    ])
    return response['message']['content']
    
sentence = "I am a boy."
english_to_korean(sentence)
```

<br>

⑸ Determine whether a given sentence contains a chemical formula

<br>

```python
import ollama

def is_chemical_formula(sentence):
    content = 'Please determine if "' + sentence + '" contains a chemical formula or not. If it is correct, answer "sure"; otherwise, "no".'
    response = ollama.chat(model='llama2', messages=[
      {
        'role': 'user',
        'content': content,
      },
    ])
    return response['message']['content']
    
sentence = "NH2OH is an amine."
result = is_chemical_formula(sentence)
print(result)
print('sure' in result.lower())

sentence = "I am a boy."
result = is_chemical_formula(sentence)
print(result)
print('sure' in result.lower())

### Output ###
'''
The term "NH2OH" does contain a chemical formula, so the answer is "yes" or "sure".
True
The statement "I am a boy" does not contain any chemical formulas, so the answer is "no".
False
'''
```

<br>

⑹ Determine whether a given noun is a proper noun or a common noun

<br>

```python
import ollama

def is_proper_noun(noun):
    content = 'Please determine if "' + noun + '" is a proper noun or common noun. If it is a proper noun, answer "proper"; otherwise, "common".'
    response = ollama.chat(model='llama2', messages=[
      {
        'role': 'user',
        'content': content,
      },
    ])
    return response['message']['content']
    
sentence = "Pencil"
result = is_proper_noun(sentence)
print(result)
print('proper' in result.lower())

sentence = "Feynman"
result = is_proper_noun(sentence)
print(result)
print('proper' in result.lower())

### Output ###
'''
"Pencil" is a common noun. Therefore, the answer is "common".
False

"Feynman" is a proper noun. Therefore, the answer is "proper".
True
'''
```

<br>

<br>

## **3. LLM agents** 

⑴ Overview: 2026 is the year of LLM agents

⑵ [Molbot](https://clawd.bot/) (clawd.bot): An open-source project made by an independent developer, Peter Steinberger (steipete). Anthropic requested a name change due to trademark issues (cf. Claude Code), so it was rebranded as Moltbot

⑶ Claude Code: An LLM-based agentic coding tool made by Anthropic. The specific models are Haiku (fast and inexpensive), Sonnet (balanced), Opus (high performance)

⑷ ChatGPT Pro

⑸ [Google Gemini and NotebookLM User Guide](https://blog.kakaocdn.net/dna/dzOqsB/dJMcabwfTfr/AAAAAAAAAAAAAAAAAAAAAGMwFrjnU_koeevS0Mm2a80m7139_B28nGsR3rJh-qpr/get_started_with_gemini_for_college.pdf?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1769871599&allow_ip=&allow_referer=&signature=a1Jpg9wHg0hRjFdymFgQkfhPUVI%3D&attach=1&knm=tfile.pdf)

⑹ AI Scientist ([Sakana AI](https://sakana.ai/ai-scientist-first-publication/), [FutureHouse](https://www.futurehouse.org/research), [James Zou](https://www.youtube.com/watch?v=IZaNqsZv2Ik))

<br>

---

_Input: 2024.02.10 13:34_

_Edited: 2026.01.29 00:43_
