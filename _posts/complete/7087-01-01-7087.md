## **数据分析：Kaplan-Meier 生存曲线**

推荐文章**：** 【生物信息学】【生物信息学分析目录】(https://jb243.github.io/pages/836)

---

**1.** [本次死亡的患者人数](#1-本次死亡的患者人数-死亡的患者人数)

**2.** [审查数量](审查数量#2)

**3.** [到目前为止幸存的概率](#3-probability-of-having-survived-so-far)

**4.** [R 代码](#4-r-代码)

**5.** [Python 代码](#5-python-code)

**6.** [分析指标](#6-analysis-metric)

---

<br>

|总时间（t）|死亡患者人数 (d) |至今存活的患者人数 (n) |审查数量 |在此期间的死亡概率 (d/n) |此期间的生存概率 (1 - d/n) |到现在为止还活着的概率（L） |
| --- | --- | --- | --- | --- | --- | --- |
| 6 | 1 | 23 | 23 0 | 0.0435 | 0.0435 0.9565 | 0.9565 0.9565 | 0.9565
| 12 | 12 1 | 22 | 22 0 | 0.0455 | 0.0455 0.9545 | 0.9545 0.9130 |
| 21 | 21 1 | 21 | 21 0 | 0.0476 | 0.0476 0.9524 | 0.9524 0.8695 | 0.8695
| 27 | 27 1 | 20 | 0 | 0.0500 | 0.9500 | 0.8260 |
| 32 | 32 1 | 19 | 19 0 | 0.0526 | 0.0526 0.9474 | 0.7826 |
| 39 | 39 1 | 18 | 18 0 | 0.0556 | 0.0556 0.9444 | 0.7391 |
| 43 | 43 2 | 17 | 17 1 | 0.1176 | 0.1176 0.8824 | 0.6522 |
| 89 | 89 1 | 14 | 14 5 | 0.0714 | 0.0714 0.9286 | 0.9286 0.6056 | 0.6056
| 261 | 261 1 | 8 | 0 | 0.1250 | 0.8750 | 0.5299 | 0.5299
| 263 | 263 1 | 7 | 0 | 0.1429 | 0.1429 0.8571 | 0.4542 |
| 270 | 270 1 | 6 | 1 | 0.1667 | 0.1667 0.8333 | 0.3785 | 0.3785
| 311 | 311 1 | 4 | 。 | 0.2500 | 0.7500 | 0.2839 | 0.2839

**表 1.** Kaplan-Meier 生存曲线示例

<br>

## **1\.本次死亡人数**（死亡人数）

⑴ 第一排23人，表示时间为0时，有23人还活着。

⑵ 第二排22人意味着时间为6时有22人还活着。

⑶ 有时显示存活患者人数（处于危险中的人数），有时不显示。

<br>

<br>

## **2\. # 已审查**

⑴ 审查是指因不再住院等原因没有进一步记录。

⑵ 假设被审查的患者与其他幸存者具有相同的生存概率。

⑶ 通常在图表上用⊕符号标记。

<br>

<br>

## **3\.到目前为止幸存的概率**

⑴ 存活到时间 12 的概率 = 0.9130 = 存活到时间 6 的概率 × 这段时间（6 ~ 12）存活的概率 = 0.9565 ×
0.9545

⑵ 存活到时间 21 的概率 = 0.8695 = 存活到时间 12 的概率 × 这段时间（12 ~ 21）存活的概率 = 0.9130 ×
0.9524

<br>

<br>

## **4\. R代码**

 ⑴ 与生存曲线相关的R代码（考虑# of censored）

<br>

__受保护_0__

<br>

<img width="699" alt="스크린샷 2024-04-13 오전 10 51 57" src="https://github.com/JB243/jb243.github.io/assets/55747737/8920f472-13b2-4adb-bd05-692e5501c7ec">

<br>

 ⑵ 如果添加 p 值 **:** 注意，以下代码是假设的，与上表无关。

<br>

__受保护_1__

<br>

<br>

## **5\. Python 代码**

<br>

__受保护_2__

<br>

<img width="699" alt="스크린샷 2024-04-13 오전 10 52 36" src="https://github.com/JB243/jb243.github.io/assets/55747737/e1efdf5b-dd5a-4235-a9b3-f64d2297b9d0">

<br>

<br>

## **6\.分析指标**

⑴ 组间差异检验统计量

> ① 对数秩检验（Mantel–Cox 检验）

> ② Wilcoxon（Breslow）检验

> ③ Tarone-Ware 测试

⑵ 评估生存曲线本身的指标

> ① 一致性指数（C-index）

> ② Brier 综合评分（IBS）

> ③ 曲线下面积

> ④ [聚类比较指标](https://jb243.github.io/pages/2150#1-introduction)（例如AMI）

<br>

---

_输入**：** 2021.04.13 17:29_

_更新**：** 2024.03.11 21:42_