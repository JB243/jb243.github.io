## **Python 故障排除 [01-20]**

更高类别**：** 【Python】 [Python目录](https://jb243.github.io/pages/786)

---

<br>

#### **1。错误：找不到满足 cv2 要求的版本（来自版本：无）错误：找不到 cv2** 的匹配发行版

⑴ **解决方案（包）：** `pip install opencv-python` 或（对于 Python 3）`pip3 install opencv-python`

<br>

<br>

#### **2。 ModuleNotFoundError：没有名为“skimage”的模块**

⑴ **解决方案（包）：** `pip install scikit-image`

<br>

<br>

#### **3。 AttributeError：模块“tensorflow”没有属性“get_default_graph”**

⑴ **原因：** Python版本与tensorflow版本不兼容

⑵ **解决方案（包）：** 创建新环境

__受保护_0__

<br>

<br>

#### **4。错误：无法为 h5py、statsmodels 构建轮子，这是安装基于 pyproject.toml 的项目所必需的**

⑴ **问题：** 在 M1 MacBook 上安装带有 `pip install scanpy` 的 scanpy 时出现此错误

⑵ **解决方案（打包）：**访问[https://www.anaconda.com/products/individual#macos](https://www.anaconda.com/products/individual#macos)，安装Anaconda，然后执行以下命令：

__受保护_1__

⑶ [参考站点](https://www.py4u.net/discuss/2583752)

<br>

<br>

#### **5。 ImportError：无法从“keras.layers.normalization”导入名称“BatchNormalization”**

⑴ **解决方案1（打包）：** 重新安装tensorflow和keras

> ① **示例1：** 分别安装`tensorflow==1.14.0` 和`keras==2.2.4`。

> ② **示例 2：** 如果您有 `tensorflow==2.8.0`，请将其降级为 `tensorflow==2.4.3`。这样的话，keras自然会安装在tensorflow下。

⑵ **方案二（语法）：** 将 'from keras.layers import BatchNormalization' 替换为 'from tensorflow.keras.layers import BatchNormalization' （**失败**）

> ① [参考站点](https://stackoverflow.com/questions/69471749/importerror-cannot-import-name-batchnormalization-from-keras-layers-normaliz)

⑶ **解决方案3（其他）：** 如果重新安装tensorflow和keras后问题仍然存在

> ①问题分析

>> ○ 该库最初应位于以下位置：

>>> C:\users\sun\anaconda3\envs\tensorflow\lib\site-packages\keras\layers\normalization

>> ○ 但是，在出现上述错误的情况下，在以下位置找到了该库：

>>> C:\users\sun\appdata\local\programs\python\python39\lib\site-packages\keras\layers\normalization

> ② 如何通过将appdata目录下的文件替换为anaconda3目录下的文件成功解决（**成功**）

> ③ 移动文件后，激活相应的虚拟环境并运行“pip install jupyter”

<br>

<br>

#### **6。 AttributeError：模块“skimage.draw”没有属性“circle”**

⑴ **解决方案1（包）：** 可以通过降级scikit-image的版本来解决该问题

__受保护_2__

> ① 即使看起来是 scikit-image 版本问题，降级也可能无法解决上述错误

⑵ **解决方案2（语法）：**代替skimage.draw.circle，使用[skimage.draw.ellipse](https://scikit-image.org/docs/stable/api/skimage.draw.html) (**采用**)

<br>

<br>

#### **7。 ValueError：无法解释优化器标识符：<tensorflow.python.keras.optimizer_v2.adam.Adam 对象位于 0x000001B71092D5C8>**

⑴ **原因：** 混合使用keras和tensorflow.keras，它们是不同的包

⑵ **解决方案（语法）：**

__受保护_3__

⑶ [参考站点](https://stackoverflow.com/questions/50056356/could-not-interpret-optimizer-identifier-error-in-keras)

<br>

<br>

#### **8。 ModuleNotFoundError：没有名为“jupyter_core”的模块**

⑴ **解决方案（包）：** `pip install jupyter`

<br>

<br>

#### **9。访问被拒绝。**

⑴ **解决方案（系统）：** 关闭 Jupyter Notebook 和相关 Anaconda 提示，然后重试

<br><br>

#### **10。 ImportError：无法从“numpy.lib.arraypad”导入名称“_validate_lengths”**

⑴ **解决方案（包）：** 根据作者的经验，numpy 1.16 出现该问题，1.15 则没有

⑵ [参考](https://github.com/numpy/numpy/issues/12744)

<br>

<br>

#### **11。导入错误：找不到“cudart64_100.dll”。 TensorFlow 要求将此 DLL 安装在 %PATH% 环境变量中指定的目录中。从以下 URL 下载并安装 CUDA 10.0：[https://developer.nvidia.com/cuda-90-download-archive](https://developer.nvidia.com/cuda-90-download-archive)**

⑴ **问题：**安装然后删除GPU环境后出现此错误

⑵ **解决方案（其他）：** 【Python中重新安装GPU环境】(https://nate9389.tistory.com/2173)

<br>

<br>

#### **12。 InvalidVersionSpecError：无效版本规范：=2.7**

⑴ **问题：** 在Anaconda3中运行`conda install jupyterlab louvain ipywidgets`时出现此错误

⑵ **解决方案1（打包）：**执行以下代码（**失败**）：[https://github.com/conda/conda/issues/10618#issuecomment-826025918](https://github.com/conda/conda/issues/10618#issuecomment-826025918)

__受保护_4__

⑶ **解决方案 2（软件包）：** 从 condarc 配置文件中删除 conda-forge 行，并在不使用 conda-forge 的情况下安装软件包/环境（**失败**）： [https://github.com/conda/conda/issues/10618#issuecomment-827671220](https://github.com/conda/conda/issues/10618#issuecomment-827671220)

__受保护_5__

⑷ **解决方案3（包）：** 该解决方案在Ubuntu上可能略有不同，因为该项目是在Ubuntu上开发的。 （**失败**）

> ① Linux 上安装：[https://stlearn.readthedocs.io/en/latest/installation.html](https://stlearn.readthedocs.io/en/latest/installation.html)

> ② Ubuntu 上安装：[https://www.howtoinstall.me/ubuntu/18-04/python3-ipywidgets/](https://www.howtoinstall.me/ubuntu/18-04/python3-ipywidgets/)

__受保护_6__

<br>

<br>

#### **13。 AttributeError：模块“attr”没有属性“s”**

⑴ **解决方案（包）：** 卸载jupyterlab并重新安装

__受保护_7__

<br>

<br>

#### **14。构建失败，错误码为 500。如果您在安装扩展后遇到构建失败（或在更新 JupyterLab 后尝试包含以前安装的扩展），请检查扩展存储库以获取新的安装说明，因为许多扩展已迁移到不再需要重建 JupyterLab 的预构建扩展系统（但使用不同的安装过程，通常涉及包管理器，例如“pip”或“conda”）。如果您特别打算安装源扩展，请在服务器上运行“jupyter lab build”以获得完整输出。**

⑴ **问题（包）：** Bokeh 未正确安装时会出现此错误。它出现在 JupyterLab 中。

⑵ **解决方案（包）：** 参考【Bokeh安装手册】(https://nate9389.tistory.com/2186)

<br>

<br>

#### **15。 \* 环境：生产 警告：这是一个开发服务器。不要在生产部署中使用它。请改用生产 WSGI 服务器。**

⑴ **概述：** Python 中使用 `app.server.run()` 运行plotly 代码时会出现此错误

⑵ **修改前**

__受保护_8__

⑶ **修改后：** 设置IP地址与开发环境匹配，会自动分配端口5000，如果端口不是5000，则会出错。

__受保护_9__

⑷ 如果端口与开发环境匹配，执行时会出现“地址已在使用”错误。

<br>

<br>

#### **16。 ImportError：无法从“typing_extensions”导入名称“TypeGuard”**

⑴ **解决方案（包）：** `pip install typing-extensions --upgrade`⑵ **参考：** [https://stackoverflow.com/questions/69174965/cannot-import-name-typeguard-from-typing-extensions](https://stackoverflow.com/questions/69174965/cannot-import-name-typeguard-from-typing-extensions)

<br>

<br>

#### **17。 ImportError：无法从“keras.utils”导入名称“to_categorical”**

⑴ **解决方案（包）：**降级到`tensorflow==2.8.0`、`tensorflow==1.13.1`和`keras==2.2.4`

<br>

<br>

#### **18。 AttributeError：“Conv2D”对象没有属性“outbound_nodes”**

⑴ **解决方案（包）：** 通过降级 `tensorflow==keras==2.4.3` 对 `tensorflow==1.13.1` 和 `keras==2.2.4` 进行标准化

⑵ 修改包时，Anaconda提示中可能会报出冲突，所以要保证适当的协调

<br>

<br>

#### **19。 ImportError：无法从“tensorflow.python.eager.context”导入名称“get_config”**

⑴ **解决方案（包）：** 通过降级 `tensorflow==keras==2.4.3` 对 `tensorflow==1.13.1` 和 `keras==2.2.4` 进行标准化

⑵ 修改包时，Anaconda提示中可能会报出冲突，所以要保证适当的协调

<br>

<br>

#### **20。错误：无法卸载“PyYAML”。这是一个 distutils 安装的项目，因此我们无法准确确定哪些文件属于它，这将导致仅部分卸载。 **

⑴ **修改前：** `pip install cellphonedb`

⑵ **修改后：** `pip install --ignore-installed cellphonedb`

<br>

---

_输入**：** 2021-12-24 23:33_