## **Python 故障排除 [21-40]**

更高类别**：** 【Python】【Python目录】(https://jb243.github.io/pages/1892)

---

<br>

#### **21。 rpy2.rinterface\_lib.embedded.RRuntimeError：库中的错误（ggplot2）：没有名为“ggplot2”的包**

⑴（封装）解决方案：连接R然后`install.packages('ggplot2')`

<br>

<br>

#### **22。错误：pip 的依赖项解析器当前未考虑所有已安装的软件包。此行为是以下依赖项冲突的根源。** **stlearn 0.4.5 需要 scikit-image>=0.19.2，但您有不兼容的 scikit-image 0.18.3。**

⑴（包）问题：执行`pip install stlearn==0.4.5`时出现

⑵（封装）解决方案**：** `pip install stlearn==0.4.5 --no-deps`

⑶ **参考：** [https://stackoverflow.com/questions/12759761/pip-force-install-ignoring-dependency/12759996#12759996](https://stackoverflow.com/questions/12759761/pip-force-install-ignoring-dependency/12759996#12759996)

⑷ **参考：** 为了不忽略依赖关系，请参考<https://turewind-flaseforest-inmoonlight.tistory.com/65>。

<br>

<br>

#### **23。导入错误：无法从“scanpy.tools”导入名称“\_tsne\_fix”**

⑴（包）解决方案：将`scanpy==1.9.1`降级为`scanpy==1.7.2`

<br>

<br>

#### **24。 ValueError：m 的维度超过 2**

⑴（语法）问题：使用 `numpy.corrcoef` 且输入向量参数中的元素为 `np.ndarray` 时发生

⑵（语法）解决方案：将输入向量参数中的所有元素转换为标量。使用`~.item()`

<br>

<br>

#### **25。 TypeError: 无法直接创建描述符。** **如果此调用来自 \_pb2.py 文件，则生成的代码已过时，必须使用协议 >= 3.19.0 重新生成。如果您无法立即重新生成原型，其他一些可能的解决方法是： 1. 将 protobuf 包降级到 3.20.x 或更低版本。 2. 设置 PROTOCOL\_BUFFERS\_PYTHON\_IMPLMENTATION=python （但这将使用纯 Python 解析，速度会慢很多）。**

⑴（包）解决方案：降级`protobuf==3.19.1`，然后关闭再打开anaconda再运行

⑵ 附加信息：[https://developers.google.com/protocol-buffers/docs/news/2022-05-06#python-updates%EF%BB%BF](https://developers.google.com/protocol-buffers/docs/news/2022-05-06#python-updates%EF%BB%BF)

<br>

<br>

#### **26。类型错误：只有长度为 1 的数组可以转换为 Python 标量**

⑴（语法）问题：函数需要特定值，但数组作为参数传递

⑵（语法）解决方案：对数组中的每个元素使用函数

⑶ 解决方案示例

__受保护_0__

<br>

<br>

#### **27。 UnicodeDecodeError：“cp949”编解码器无法解码位置中的字节：非法多字节序列**

⑴（语法）问题**：** `f = open("example.txt", 'r')`

⑵ 原因：从Python 3开始，只能读取ANSI编码的文件，而无需为UTF-8指定单独的编码方式

⑶（语法）解决方案**：** `f = open("example.txt", 'r', encoding = 'utf-8')`

<br>

<br>

#### **28。类型错误：只能将 str （不是“int”）连接到 str**

⑴（语法）问题：尝试将 int 变量连接到 str 变量

⑵ 问题示例**：** `a = 3; print('a = ' + a)`

⑶（语法）解决方案：使用str()函数将int变量转换为str

⑷ 解决方案示例 **:** `a = 3; print('a = ' + str(a))`

<br>

<br>

#### **29。 \_csv.错误：字段大于字段限制 (131072)**

⑴（语法）解决方案

__受保护_1__

⑵参考：[https://stackoverflow.com/questions/15063936/csv-error-field-larger-than-field-limit-131072](https://stackoverflow.com/questions/15063936/csv-error-field-larger-than-field-limit-131072)

<br>

<br>

#### **30。 AttributeError：类型对象“scipy.spatial.transform.rotation.Rotation”没有属性“from\_dcm”**

⑴（包）解决方案：降级到`scipy==1.5.2`⑵参考：[https://github.com/benjiebob/SMALify/issues/22](https://github.com/benjiebob/SALify/issues/22)

<br>

<br>

#### **31。错误：由于操作系统错误而无法安装软件包：\[WinError 225\] 操作未成功完成，因为文件包含病毒或可能不需要的软件... 错误：由于操作系统错误而无法安装软件包：\[WinError 225\] 操作未成功完成，因为文件包含病毒或可能不需要的软件**

⑴（其他）原因：软件包安装被安全软件阻止

⑵（其他）解决方案1：禁用有问题的安全程序，如[this](https://softwarekeep.com/help-center/operation-did-not-complete-successively-because-the-file-contains-a-virus)链接所示

⑶（其他）解决方案二：在不同的电脑上下载软件包，直接传输到软件包安装失败的电脑上

<br>

<br>

#### **32。错误：OpenCV（4.6.0）D：\\ a \\ opencv-python \\ opencv-python \\ opencv \\ modules \\ imgproc \\ src \\ color.cpp：182：错误：（-215：断言失败）！\ _src.empty（）在函数'cv :: cvtColor'**中

⑴（语法）问题：目录输入错误，无法正确输入带有`cv2.imread`的图像

<br>

<br>

#### **33。错误：找不到满足 git 要求的版本（来自版本：无）。错误：找不到 git** 的匹配发行版

⑴（包）问题：git未安装

⑵（打包）解决方案：conda install git

__受保护_2__

<br>

<br>

#### **34。 AttributeError：“dict”对象没有属性“iteritems”、“iterkeys”或“itervalues”**

⑴（语法）问题：从Python3开始，`.iteritems()`、`.iterkeys()`和`.itervalues()`函数已被删除，导致此错误

⑵（语法）解决方案：使用`.items()`函数代替

<br>

<br>

#### **35。当前的 PyTorch 安装支持 CUDA 功能 sm\_37 sm\_50 sm\_60 sm\_70。如果您想将 NVIDIA GeForce RTX 3090 GPU 与 PyTorch 一起使用，请查看说明。**

⑴（封装）问题：目前RTX 3090需要CUDA 11或更高版本

⑵（打包）解决方案：pip install torch==1.7.1+cu110 torchvision==0.8.2+cu110 -f https://download.pytorch.org/whl/torch_stable.html

__受保护_3__

<br>

<br>

#### **36。 ImportError: 导入 utilsextension 时 DLL 加载失败: 找不到指定的模块。**

⑴（包）问题：Python 3.8 中连接到 scanpy 的 pytables 部分存在问题

⑵（封装）解决方案

__受保护_4__

<br>

<br>

#### **37。 AttributeError：模块“tensorflow.keras.layers”没有属性“RandomContrast”**

⑴（语法）问题：[tensorflow版本2.11.0](https://www.tensorflow.org/api_docs/python/tf/keras/layers/RandomContrast)使用`tf.keras.layers.RandomContrast`，而[tensorflow版本2.4](https://en.spec-zone.ru/tensorflow~2.4/keras/layers/experimental/preprocessing/randomcontrast)使用__受保护_28__

<br>

<br>

#### **38。 NotImplementedError：无法转换符号张量**

⑴（包）解决方案：降级到`numpy==1.19.5`

<br>

<br>

#### **39。 ModuleNotFoundError：没有名为“pydatset”的模块**

⑴（语法）问题：执行以下代码时出现错误：

__受保护_5__

⑵（语法）解决方案：改为直接运行以下代码（[源码](https://github.com/dnlcrl/PyDatSet/blob/master/pydatset/cifar10.py)）

__受保护_6__

<br>

<br>

#### **40。 ModuleNotFoundError：没有名为“cPickle”的模块**

⑴（语法）问题：在Python 3中，已改为“pickle”

⑵（语法）解决方案

__受保护_7__

<br>

---

*输入**：** 2022-05-09 22:23*