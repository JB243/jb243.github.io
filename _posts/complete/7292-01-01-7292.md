## **Python 主要故障排除 [41-60]**

推荐文章**：** 【Python】【Python目录】(https://jb243.github.io/pages/786)

---

<br>

#### **41。导入错误：无法导入名称“mnist.data_utils”**

 ⑴ **问题情况：** 

__受保护_0__

 ⑵ **方案一：**下载【MNIST数据】(https://github.com/JB243/nate9389/blob/main/Python/MNISTdata.hdf5?raw=true)并执行代码如下：

__受保护_1__

 ⑶ **解决方案2：**使用`tensorflow.keras.datasets.mnist.load_data()`。

__受保护_2__

<br>

<br>

#### **42。类型错误：无法将序列乘以“float”类型的非 int **

 ⑴ (**语法**) **原因1.** 在只能与整数相乘的情况下尝试将浮点值相乘。

<br>

__受保护_3__

<br>

⑵ (**语法**) **原因2.** 当数字与字符串类型的变量相乘时（例如'612'）：此时，字符串类型的变量必须转换为int或float。

⑶（**语法**）**原因 3.** 随着 Space Ranger 更新，它生成 `tissue_positions.csv` 而不是 `tissue_positions_list.csv`，并且这个新文件包含不正确的标头（见下文）。查看 AnnData 对象时会发生错误，该对象已使用 `scanpy.read_visium` 加载，但未通过 `scanpy.pl.spatial` 进行更新以反映此更改。

<br>

__受保护_4__

<br>

> ①（**语法**）解决方案：将 `tissue_positions.csv` 重命名为 `tissue_positions_list.csv` 并删除标头，就像以前的版本一样。

<br>

<br>

#### **43。 UnicodeDecodeError：“utf-8”编解码器无法解码位置 991 中的字节 0xdf：无效的连续字节**

 ⑴ **问题情况：** 问题是由于使用`data = pandas.read_csv('example.csv', index_col=0)`而产生的。

> ① 怀疑.csv 文件中的α、β 等字符导致问题。

 ⑵ **解决办法：**使用`data = pandas.read_csv('example.csv', index_col=0, encoding='ISO-8859-1')`。

<br>

<br>

#### **44。服务器连接错误：无法建立与 Jupyter 服务器的连接。 JupyterLab 将继续尝试重新连接。检查您的网络连接或 Jupyter 服务器配置。**

 ⑴ **问题情况：** Jupyter Lab 和 Jupyter Notebook 都出现同样的问题。

 ⑵ **解决方案1：** 可能是管道破裂的问题，在这种情况下请按照[此处](https://may0301.tistory.com/10)提供的解决方案进行操作。

> ① 断管问题可能与国家安全政策的网络配置有关。

> ② 使用VPN等措施可以避免用户出现断管问题。

 ⑶ **解决方案2：** 如果执行时间较长，可能是服务器无响应而故意断开连接。在这种情况下，定期在启动 jupyter Notebook/jupyter lab 的终端或 Anaconda 提示符中按 Enter 可以解决无响应和连接错误的问题。

<br>

<br>

#### **45。没有名为“google.protobuf”的模块**

 ⑴ **问题情况：** 

 ⑵ **解决方案：** 使用`conda install protobuf`安装。

<br>

<br>

#### **46。错误：OpenCV(4.6.0) /io/opencv/modules/imgproc/src/color.cpp:182: 错误：(-215:断言失败) !_src.empty() 在函数“cvtColor”**

 ⑴ **问题情况：** 当尝试使用OpenCV读取图像文件，但该图像文件不存在时，会出现此错误。

<br>

<br>

#### **47。运行时错误：CUDA 错误：内存不足**

 ⑴ **问题情况：** 当GPU使用率超过限制时出现。

 ⑵ **解决方案：**修改命令以使用特定GPU，例如将`python app.py`更改为`CUDA_VISIBLE_DEVICES=1 python app.py`等指定GPU使用的命令。

__受保护_5__

<br>

<br>

#### **48。运行时错误：CUDA 错误：没有可在设备上执行的内核映像**

 ⑴ **问题情况：** 当 PyTorch 或 torchvision 版本与系统条件不匹配时出现，例如 CUDA 版本。

> ① 例如，RTX3090 应使用 CUDA11 或更高版本。> ② 相关错误日志 **：** 当前 PyTorch 安装支持 CUDA 功能 sm_37 sm_50 sm_60 sm_70。如果您想将 NVIDIA GeForce RTX 3090 GPU 与 PyTorch 一起使用，请查看说明。

 ⑵ **解决方案：** 安装与系统匹配的正确PyTorch和torchvision版本，如[此处](https://ssaru.github.io/2021/05/05/20210505-til_install_rtx3090_supported_pytorch/)所述。

__受保护_6__

<br>

<br>

#### **49。导入错误：无法从“dash”导入名称“ctx”**

 ⑴ **问题情况：** 

 ⑵ **解决方案：** 将dash包升级到2.9.3版本（或更高版本，截至作者参考）。

<br>

<br>

#### **50。 AttributeError：“Flask”对象没有属性“before_first_request”**

 ⑴ **问题情况：** 

 ⑵ **解决方案：** 将dash包升级到2.9.3版本（或更高版本，截至作者参考）。

<br>

<br>

#### **51。 ImportError：无法从“werkzeug”导入名称“cached_property”**

 ⑴ **问题情况：** 

__受保护_7__

 ⑵ **解决方案：** 将 Werkzeug 降级到 1.0 或更早版本。

<br>

<br>

#### **52。类型错误：需要 str、bytes 或 os.PathLike 对象，而不是 numpy.ndarray**

 ⑴ **问题情况：** 将 `gseapy.enrichr` 与数组输入一起使用时会出现问题。

 ⑵ **原因：** 您需要提供一个列表而不是 numpy.ndarray 作为输入。

 ⑶ **解决方案：** 使用`numpy.ndarray.tolist(ar)` 或`ar.tolist()` 作为输入。

<br>

<br>

#### **53。 OSError：wkhtmltopdf 退出并显示非零代码 1。错误：qt.qpa.screen：QXcbConnection：无法连接到显示器无法连接到任何 X 显示器。**

 ⑴ **问题情况：** 

__受保护_8__

 ⑵ **解决方案：** 请参考此[Stack Overflow 帖子](https://stackoverflow.com/questions/51787618/wkhtmltopdf-pdfkit-could-not-connect-to-any-x-display) 中的讨论。

__受保护_9__

⑶ [参考](https://stackoverflow.com/questions/51787618/wkhtmltopdf-pdfkit-could-not-connect-to-any-x-display) 

<br>

<br>

#### **54。 FileNotFoundError: [Errno 2] 没有这样的文件或目录: 'Xvfb'**

 ⑴ **解决方案1：** 安装Xvfb包（[参考](https://stackoverflow.com/questions/32173839/easyprocess-easyprocesscheckinstallederror-cmd-xvfb-help-oserror-errno)）。

__受保护_10__

 ⑵ **解决方案2：**避免使用pyvirtualdisplay。

__受保护_11__

<br>

<br>

#### **55。类型错误：import_Optional_dependency() 得到意外的关键字参数“错误”**

 ⑴ **解决方案：** 使用`pip install pandas --upgrade`升级pandas。

⑵ [参考](https://stackoverflow.com/questions/69148495/typeerror-import-optional-dependency-got-an-unexpected-keyword-argument-erro) 

<br>

<br>

#### **56。 bash：java：找不到命令**

 ⑴ **解决方案：** 按照[此处](https://itslinuxfoss.com/how-to-fix-the-java-command-not-found-in-linux/)概述的步骤进行操作。

__受保护_12__

<br>

<br>

#### **57。错误：加载主类 picard.cmdline.PicardCommandLine java.lang.UnsupportedClassVersionError 时发生 LinkageError：picard/cmdline/PicardCommandLine 已由较新版本的 Java 运行时（类文件版本 61.0）编译，此版本的 Java 运行时仅识别最高 55.0 的类文件版本**

 ⑴ **问题情况：** picard 和 Java 运行时版本不匹配。

 ⑵ **解决方案：** 将 picard 降级到与安装的 Java 运行时兼容的版本。

<br>

<br>

#### **58。 +[NSUndoManager _endTopLevelGroupings] 中的断言失败，NSUndoManager.m:1117**

 ⑴ **问题情况：** 当多个 Python 线程尝试同时访问 macOS GUI 时，潜在的线程安全冲突。

 ⑵ **方案一：** 在Linux环境中运行，而不是在macOS环境中运行。

 ⑶ **解决方案 2:** 禁用可能导致该问题的 Web 服务器的交互模式。

__受保护_13__

<br>

<br>#### **59。 ImportError：无法从“pandas”导入名称“Int64Index”**

 ⑴ **解决办法：**重新安装pandas和xgboost（[参考](https://stackoverflow.com/questions/71083866/pandas-int64index-fix-for-futurewarning)）。

__受保护_14__

<br>

<br>

#### **60。 E：无法找到包树**

 ⑴ **解决方案：** 

__受保护_15__

<br>

---

_输入**：** 2023-01-28 02:15_

_修改**：** 2023-07-28 17:22_