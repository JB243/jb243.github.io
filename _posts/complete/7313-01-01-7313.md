## **Python 主要故障排除 [101-120]**

推荐帖子：【Python】【Python目录】(https://jb243.github.io/pages/786)

---

<br>

#### **101。 AttributeError：“builtin_function_or_method”对象没有属性“default”**

⑴ (****package****) 解决方案：将torch_geometric版本从2.6.1降级到1.7.2或2.0.0 ([ref](https://github.com/pyg-team/pytorch_geometric/discussions/9683))

<br>

<br>

#### **102。 ImportError：无法导入sentence_transformers python 包。请使用 `pip install sentence-transformers` 安装它。**

⑴ (****package****) 问题描述：`embedding_function = SentenceTransformerEmbeddings(model_name="all-MiniLM-L6-v2")`

⑵ (****package****)解决方案：将huggingface_hub版本降级至0.24.6.，或者

<br>

__受保护_0__

<br>

<br>

#### **103。类型错误：“类型”对象不可下标**

⑴（**package**）解决方案：将python版本从3.8升级到3.9。

<br> 

<br>

#### **104。 AttributeError：模块“numpy.lib”没有属性“pad”**

⑴ (**package**) **解决方案1.** 降级numpy版本

⑵（**语法**） **解决方案2.** 将`numpy.lib.pad` 更改为`numpy.pad`。

<br> 

<br>

#### **105。 ValueError: <COMPRESSION.JPEG: 7> 需要“imagecodecs”包**

⑴（**包**）解决方案：`pip install imagecodecs` 或 `conda install -c conda-forge imagecodecs`

<br>

<br>

#### **106。 AttributeError：模块“scipy”没有属性“io”**

⑴（**语法**）问题

<br>

__受保护_1__

<br>

⑵（**语法**）解决方案 

<br>
 
__受保护_2__

<br>

<br>

#### 107. InvalidIndexError：重新索引仅对具有唯一值的 Index 对象有效

⑴（**语法**）解决方案：`adata.var_names_make_unique()`

<br>

<br>

#### 108. ModuleNotFoundError：没有名为“graph_tool”的模块

⑴ (**package**) 解决方案：`conda install -c conda-forge graph-tool` ([ref](https://graph-tool.skewed.de/installation.html))

⑵ **建议：** 由于没有通过pip提供安装方法，所以我经常遇到包冲突的问题。每当使用 graph-tool 或 graph_tool 时，我通常会在 ChatGPT 的帮助下解释代码并使用替代方案。

<br>

<br>

#### 109. ModuleNotFoundError：没有名为“abc_atlas_access”的模块

⑴（**包**）解决方案：`pip install git+https://github.com/alleninstitute/abc_atlas_access.git`

<br>

<br>

#### 110.导入错误：/.../libtorch_cpu.so：未定义符号：iJIT_NotifyEvent

⑴ (**package**) 原因：此错误是典型的 PyTorch-Intel MKL/OpenMP 冲突问题，当 PyTorch 库无法加载 Intel oneDNN/JIT 相关符号时引起。

⑵（**package**）解决方案：匹配PyTorch版本。

<br>

__受保护_3__

<br>

<br>

#### 111. TypeError：| 不支持的操作数类型：“type”和“NoneType”

⑴（**包**）解决方案：Python >= 3.10

<br>

<br>

#### 112.导入错误：libcusparse.so.12：未定义符号：__nvJitLinkComplete_12_4，版本libnvJitLink.so.12

⑴（**package**）解决方案：根据给定的GPU版本安装新的torch

<br>

__受保护_4__

<br>

<br>

#### 113. ImportError: libXrender.so.1: 无法打开共享对象文件: 没有这样的文件或目录

⑴ (**package**)解决方案：`sudo apt-get install libxrender1` ([ref](https://stackoverflow.com/questions/52547833/getting-importerror-libxrender-so-1-cannot-open-shared-object-file-when-impo))

<br>

<br>

#### 114. PydanticImportError：`BaseSettings` 已移至 `pydantic-settings` 包。

⑴ (**package**) 问题描述：`conda install -c psi4 psi4`期间包版本冲突

⑵（**包**）解决方案：`pip install "pydantic<2.0.0"`

<br>

<br>

#### 115. AttributeError：模块“torch.utils._pytree”没有属性“register_pytree_node”

⑴（**包**）解决方案：`pip install -U "torch==2.2.*" "transformers==4.37.*"`

<br>

<br>

#### 116. **导入错误：无法从“transformers.utils.import_utils”导入名称“is_flash_attn_available”**

⑴（**包**）解决方案：`pip install -U "transformers==4.34.1"`

⑵ [参考](https://github.com/huggingface/transformers/issues/27319)  

<br>

---

_输入：2025.01.21 23:29_