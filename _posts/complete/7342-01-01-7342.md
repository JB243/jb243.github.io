## Docker 使用

推荐阅读：【开发环境】【操作系统索引】(https://jb243.github.io/pages/1771)

---

**1.** [概述](#1-概述)

**2.** [命令](#2-命令)

**3.** [杂项](#3-杂项)

---

<br>

## **1\.概述**

 ⑴ 概述

> ①（差异化概念）环境：存放包的bundle

> ② docker：一个容器，不仅存储包，还存储计算中间结果的实例

> ③ Docker 可在 Linux、Windows 和 Mac 上运行 - 无需 VM

> ④ Docker得到Amazon EC2、Google Compute Engine、Rackspace等云平台的支持

> ⑤【官方手册】(https://docs.docker.com/)

⑵ 输入文件

> ① `Dockerfile`：一组Docker命令

>> ○ 与源代码类似的概念。文件名必须是“Dockerfile”

>> ○ 如果使用 docker Attach，必须使用 SHELL 命令

>> ○ `RUN`：在创建映像期间安装

>> ○ `CMD`：仅在镜像转为容器时（镜像执行时）安装一次

>> ○ `ENTRYPOINT`：就像运行 jupyter

> ② `build-image.sh`：一组Linux命令

> ③ `docker-compose.yml`：配置环境变量

> ④ [`app.py`](https://nate9389.tistory.com/2347)：Python可执行文件

> ⑤ `requirements.txt`：所需的Python包

⑶ Docker创建结果

> ① 图像 = 蓝图

>> ○ 蓝图，其中包含为所需项目或功能安装的所有必要包和库，以及各种设置和初始值

>> ○ 可以从<https://hub.docker.com/>下载

>> ○ 示例：`linux/amd64 python:3.9`、`linux/amd64 nvidia/cuda:11.2.2-cudnn8-devel-ubuntu20.04`

> ②容器=实例

>> ○ 用户在主机上实际运行或部署的实例，基于镜像

> ③节点或主机

>> ○ 运行Docker的设备或环境

<br>

<br>

## **2\.命令**

○ 安装 Docker

> ○ **步骤1.** 安装docker-ce

__受保护_0__

> ○ **步骤2.** 启动docker

>> `sudo systemctl start docker`

> ○ **步骤 3.** (`Optional`) 启用 docker 在引导时启动

>> `sudo systemctl enable docker`

> ○ **步骤 4.** 验证 docker 安装

>> __受保护_15__

> ○ **步骤 5.** 运行容器

<br>

__受保护_1__

<br>

> ○ **步骤 6.** 拉取镜像：后跟存储库 URL 和镜像标签

>> `sudo docker pull ubuntu:20.04`

> ○ **步骤 7.** 从映像运行容器

>> __受保护_17__

○ Docker 命令：

> ○ `docker images`：列出 Docker 镜像。

> ○ `docker build`：生成 Docker 容器。

> ○ `docker run`：执行 Docker 容器。

> ○ `docker ps`：列出 Docker 容器。当您运行 `docker ps -a` 时，您还可以看到已停止的容器。

> ○ `docker attach Container_ID`：输入特定的 Docker 容器。

> ○ `docker exec Container_ID`：将命令传递到正在运行的 Docker 容器。几乎与 `docker attach` 类似。

> ○ `docker stats`：检查分配给每个容器的资源。

> ○ `docker stop ID`：停止特定容器。

> ○ `docker start ID`：启动特定容器。

> ○ `docker rm ID`：删除特定容器。

> ○ `docker rmi ID`：删除特定的 Docker 镜像。必须首先删除使用该映像的容器。

> ○ `docker cp <CONTAINER_ID>:<CONTAINER_PATH> <HOST_PATH>`：将文件从容器内部复制到主机。

> ○ `docker cp <HOST_PATH> <CONTAINER_ID>:<CONTAINER_PATH>`：将文件从主机复制到容器。

> ○ `docker load -i sk_grid.tar.gz`：加载名为 `sk_grid.tar.gz` 的 Docker 镜像。

> ○ `docker run -it docker.synapse.org/syn29568296/sk_grid:latest`：基于镜像运行docker。 

○ 快捷键：

> ○ `ctrl + c`：当特定 Docker 容器处于活动状态时，按此组合键将停止该 Docker 容器。

> ○ `ctrl + p + q`：当特定 Docker 容器处于活动状态时，按此组合键将与活动 Docker 容器分离。

<br>

<br>

## **3\.各种各样的**⑴ [Docker Web GUI管理工具](https://it-svr.com/docker-web-gui-portainer/)

<br>

---

_输入：2023.06.03 01:28_